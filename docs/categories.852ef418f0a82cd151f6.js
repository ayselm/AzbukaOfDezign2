(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(t,e){for(var r=0;r<e.length;r++){var s=e[r];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,i(s.key),s)}}function i(e){var i=function(e){if("object"!=t(e)||!e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var r=i.call(e,"string");if("object"!=t(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==t(i)?i:i+""}var r=function(){return t=function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.container="string"==typeof e?document.querySelector(e):e,this.container){if(this.block=this.container.querySelector(".CategoriesBlock"),this.leftArrow=this.container.querySelector(".leftArrow"),this.rightArrow=this.container.querySelector(".rightArrow"),this.categories=this.block?this.block.querySelectorAll(".cat"):[],!this.block||!this.leftArrow||!this.rightArrow||0===this.categories.length)return console.error("Required elements missing in slider container"),void console.error(this.block,this.leftArrow,this.rightArrow,this.categories);this.maxClicksRight=i.maxClicksRight||(this.container.dataset.bounce?5:void 0),this.bounceAfterLeftClicks=i.bounceAfterLeftClicks||(this.container.dataset.bounce?2:0),this.maxClicksRight&&this.categories.length<this.maxClicksRight+1&&console.warn("Slider needs at least ".concat(this.maxClicksRight+1," items, but has ").concat(this.categories.length)),this.currentIndex=0,this.leftClicksAfterEnd=0,this.wasAtEnd=!1,this.updateDimensions(),this.slide=this.slide.bind(this),this.handleResize=this.handleResize.bind(this),this.init()}else console.error("Container not found")},i=[{key:"updateDimensions",value:function(){this.itemWidth=this.categories[0].offsetWidth,this.containerWidth=this.block.offsetWidth,this.totalWidth=this.categories.length*this.itemWidth,this.visibleCategories=Math.round(this.containerWidth/this.itemWidth)||1,this.maxScroll=Math.max(0,this.totalWidth-this.containerWidth),this.maxIndex=Math.max(0,this.categories.length-this.visibleCategories),this.maxClicksRight&&(this.clicksPerStep=Math.ceil((this.maxIndex+1)/this.maxClicksRight),this.maxIndex=Math.min(this.maxIndex,this.maxClicksRight*this.clicksPerStep))}},{key:"init",value:function(){var t=this;this.leftArrow.addEventListener("click",(function(){return t.slide("left")})),this.rightArrow.addEventListener("click",(function(){return t.slide("right")})),this.debouncedResize=this.debounce(this.handleResize,200),window.addEventListener("resize",this.debouncedResize),this.updateArrows(),this.updateScrollPosition()}},{key:"slide",value:function(t){var e=this,i=(this.currentIndex,this.maxClicksRight?this.clicksPerStep:this.visibleCategories);"left"===t?(this.currentIndex=Math.max(0,this.currentIndex-i),this.wasAtEnd&&this.leftClicksAfterEnd++):(this.currentIndex=Math.min(this.maxIndex,this.currentIndex+i),this.currentIndex>=this.maxIndex&&(this.wasAtEnd=!0,this.leftClicksAfterEnd=0)),this.bounceAfterLeftClicks>0&&this.wasAtEnd&&this.leftClicksAfterEnd===this.bounceAfterLeftClicks&&(this.block.classList.add("bounce"),setTimeout((function(){return e.block.classList.remove("bounce")}),600)),this.updateScrollPosition(),this.updateArrows()}},{key:"updateScrollPosition",value:function(){this.updateDimensions();var t=this.currentIndex*this.itemWidth;this.block.scrollTo({left:t,behavior:"smooth"})}},{key:"updateArrows",value:function(){this.leftArrow.style.opacity=0===this.currentIndex?"0.5":"1",this.rightArrow.style.opacity=this.currentIndex>=this.maxIndex?"0.5":"1"}},{key:"handleResize",value:function(){this.updateScrollPosition(),this.updateArrows()}},{key:"debounce",value:function(t,e){var i;return function(){for(var r=this,s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];clearTimeout(i),i=setTimeout((function(){return t.apply(r,n)}),e)}}},{key:"destroy",value:function(){var t=this;this.leftArrow.removeEventListener("click",(function(){return t.slide("left")})),this.rightArrow.removeEventListener("click",(function(){return t.slide("right")})),window.removeEventListener("resize",this.debouncedResize)}}],i&&e(t.prototype,i),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,i}();document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".slider-container").forEach((function(t){var e={maxClicksRight:t.dataset.bounce?5:void 0,bounceAfterLeftClicks:t.dataset.bounce?2:void 0};new r(t,e)}))}))})();
//# sourceMappingURL=categories.852ef418f0a82cd151f6.js.map
{"version":3,"file":"liveSearch.bfe7f7e6b8696bbdd15b.js","mappings":"MAAA,IAIkBA,EACVC,EALFC,EAAcC,SAASC,eAAe,mBACtCC,EAAgBF,SAASC,eAAe,iBACxCE,EAAWH,SAASI,cAAc,cAUxC,SAASC,EAAcC,GAGnB,GAFAH,EAASI,MAAMC,QAAUF,EAAMG,QAAU,EAAI,QAAU,QAElDH,GAASA,EAAMG,OAAS,EACzBP,EAAcK,MAAMC,QAAU,WADlC,CAKA,IAAME,EAAUC,WAAWC,SAASC,QAAO,SAAAC,GAAO,OAC9CA,EAAQC,MAAMC,cAAcC,SAASX,EAAMU,gBAC3CF,EAAQI,WAAWF,cAAcC,SAASX,EAAMU,cAAc,IAIlE,GADAd,EAAciB,UAAY,GACH,IAAnBT,EAAQD,OAGR,OAFAP,EAAciB,UAAY,uDAC1BjB,EAAcK,MAAMC,QAAU,SAIlCE,EAAQU,SAAQ,SAAAN,GACZ,IAAMO,EAAarB,SAASsB,cAAc,OAC1CD,EAAWE,UAAY,cACvBF,EAAWF,UAAY,sBAAHK,OAAyBV,EAAQW,UAAS,MAAAD,OAAKV,EAAQC,MAAK,QAChFb,EAAcwB,YAAYL,EAC9B,IAEAnB,EAAcK,MAAMC,QAAU,OArB9B,CAsBJ,CAEAT,EAAY4B,iBAAiB,SAtCX9B,EAsC6B,SAAC+B,GAC5CvB,EAAcuB,EAAEC,OAAOC,MAAMC,OACjC,EAtCW,WAAmB,QAAAC,EAAA,KAAAC,EAAAC,UAAAzB,OAAN0B,EAAI,IAAAC,MAAAH,GAAAI,EAAA,EAAAA,EAAAJ,EAAAI,IAAJF,EAAIE,GAAAH,UAAAG,GACpBC,aAAaxC,GACbA,EAAUyC,YAAW,kBAAM1C,EAAK2C,MAAMR,EAAMG,EAAK,GAoCtD,IAnCC,IAqCJpC,EAAY4B,iBAAiB,SAAS,WAClCtB,EAAcN,EAAY+B,MAAMC,OACpC,IAEAhC,EAAY4B,iBAAiB,QAAQ,WACjCY,YAAW,WACPrC,EAAcK,MAAMC,QAAU,MAClC,GAAG,IACP,IAEAL,EAASwB,iBAAiB,SAAS,WAC/B5B,EAAY+B,MAAQ,GACpB5B,EAAcK,MAAMC,QAAU,OAC9BL,EAASI,MAAMC,QAAU,OACzBT,EAAY0C,OAChB,G","sources":["webpack://static-site-boilerplate/./src/javascript/ui/liveSearch.js"],"sourcesContent":["const searchField = document.getElementById('liveSearchField');\r\nconst searchResults = document.getElementById('searchResults');\r\nconst clearBtn = document.querySelector('.clear-btn');\r\n\r\nfunction debounce(func, wait) {\r\n    let timeout;\r\n    return function (...args) {\r\n        clearTimeout(timeout);\r\n        timeout = setTimeout(() => func.apply(this, args), wait);\r\n    };\r\n}\r\n\r\nfunction performSearch(query) {\r\n    clearBtn.style.display = query.length >= 1 ? 'block' : 'none';\r\n\r\n    if (!query || query.length < 1) {\r\n        searchResults.style.display = 'none';\r\n        return;\r\n    }\r\n\r\n    const results = globalThis.articles.filter(article =>\r\n        article.title.toLowerCase().includes(query.toLowerCase()) ||\r\n        article.short_desc.toLowerCase().includes(query.toLowerCase())\r\n    );\r\n\r\n    searchResults.innerHTML = '';\r\n    if (results.length === 0) {\r\n        searchResults.innerHTML = '<div class=\"no-results\">Ничего не найдено</div>';\r\n        searchResults.style.display = 'block';\r\n        return;\r\n    }\r\n\r\n    results.forEach(article => {\r\n        const resultItem = document.createElement('div');\r\n        resultItem.className = 'result-item';\r\n        resultItem.innerHTML = `<a href=\"/articles/${article.link_page}\">${article.title}</a>`;\r\n        searchResults.appendChild(resultItem);\r\n    });\r\n\r\n    searchResults.style.display = 'block';\r\n}\r\n\r\nsearchField.addEventListener('input', debounce((e) => {\r\n    performSearch(e.target.value.trim());\r\n}, 300));\r\n\r\nsearchField.addEventListener('focus', () => {\r\n    performSearch(searchField.value.trim());\r\n});\r\n\r\nsearchField.addEventListener('blur', () => {\r\n    setTimeout(() => {\r\n        searchResults.style.display = 'none';\r\n    }, 200);\r\n});\r\n\r\nclearBtn.addEventListener('click', () => {\r\n    searchField.value = '';\r\n    searchResults.style.display = 'none';\r\n    clearBtn.style.display = 'none';\r\n    searchField.focus();\r\n});"],"names":["func","timeout","searchField","document","getElementById","searchResults","clearBtn","querySelector","performSearch","query","style","display","length","results","globalThis","articles","filter","article","title","toLowerCase","includes","short_desc","innerHTML","forEach","resultItem","createElement","className","concat","link_page","appendChild","addEventListener","e","target","value","trim","_this","_len","arguments","args","Array","_key","clearTimeout","setTimeout","apply","focus"],"sourceRoot":""}
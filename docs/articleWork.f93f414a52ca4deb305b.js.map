{"version":3,"file":"articleWork.f93f414a52ca4deb305b.js","mappings":"MAAAA,SAASC,iBAAiB,oBAAoB,WAAW,IAAAC,EAAAC,EAC/CC,EAAiD,QAAtBF,EAAGG,2BAAmB,IAAAH,GAAAA,EACjDI,EAAcC,OAAOC,SAASC,SAASC,MAAM,KAAKC,MAAMC,QAAQ,QAAS,IAEzEC,EAAkBT,EAA8B,EAAI,EACtDU,EAAc,EAEdC,EADc,IAAIC,gBAAgBT,OAAOC,SAASS,QACtBC,IAAI,WAAa,MAEjD,SAASC,IAA4C,IA4ChBC,EA5CZC,EAAIC,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,EAAGG,EAAQH,UAAAC,OAAA,QAAAC,IAAAF,UAAA,GAAAA,UAAA,GAAG,MACpCI,EAAyBC,WAAWC,SAASC,QAAO,SAAAC,GAAO,OAAIA,EAAQC,OAASzB,CAAW,IAC3F0B,EAAiC,QAAbP,EACpBC,EACAA,EAAuBG,QAAO,SAAAC,GAAO,OAAIA,EAAQG,WAAWC,SAAST,EAAS,IAE9EU,GAASd,EAAO,GAAKR,EACrBuB,EAAMD,EAAQtB,EAGdwB,EAFoBL,EAAiBM,MAAMH,EAAOC,GAEjBG,KAAI,SAAAT,GAAO,0CAAAU,OACzBV,EAAQW,UAAS,6DAAAD,QAEjBE,aAAe,IAAM,IAAMZ,EAAQa,YAAW,WAAAH,OAAUV,EAAQc,MAAK,gCAAAJ,OAC5EV,EAAQc,MAAK,iDAAAJ,OACCV,EAAQe,WAAU,0GAAAL,OAGpBV,EAAQgB,KAAKC,KAAK,MAAK,4EAAAP,OAElCpC,EAA2B,0wCAanC,oCAAAoC,OAGaV,EAAQkB,aAAY,mGAIzCD,KAAK,IAER/C,SAASiD,cAAc,iBAAiBC,UAAYb,EAEhDjC,IAMR,SAA0B+C,EAAerC,GACrC,IAAMsC,EAAaC,KAAKC,KAAKH,EAAgBtC,GACzC0C,EAAiB,GAErB,GAAIH,GAAc,EAEd,IAAK,IAAII,EAAI,EAAGA,GAAKJ,EAAYI,IAC7BD,GAAkB,sBAAJf,OAA0BgB,IAAM1C,EAAc,SAAW,GAAE,MAAA0B,OAAKgB,EAAC,YAEhF,CAKH,IAAIC,EAAWC,EAHfH,GAAkB,sBAAJf,OAA0C,IAAhB1B,EAAoB,SAAW,GAAE,WAIrEA,GAAe,GACf2C,EAAY,EACZC,EAAU,GACH5C,GAAesC,EAAa,GACnCK,EAAYL,EAAa,EACzBM,EAAUN,EAAa,IAEvBK,EAAY3C,EAAc,EAC1B4C,EAAU5C,EAAc,GAI5B2C,EAAYJ,KAAKM,IAAI,EAAGF,IACxBC,EAAUL,KAAKO,IAAIR,EAAa,EAAGM,IAGrBD,EAAY,IAClB3C,GAAe,EACf4C,EAAUL,KAAKO,IAAI,EAAGR,EAAa,GAEnCK,EAAYJ,KAAKM,IAAI,EAAGP,EAAa,IAKzCK,EAAY,IACZF,GAAkB,oBAItB,IAAK,IAAIC,EAAIC,EAAWD,GAAKE,EAASF,IAClCD,GAAkB,sBAAJf,OAA0BgB,IAAM1C,EAAc,SAAW,GAAE,MAAA0B,OAAKgB,EAAC,QAI/EE,EAAUN,EAAa,IACvBG,GAAkB,oBAItBA,GAAkB,sBAAJf,OAA0B1B,IAAgBsC,EAAa,SAAW,GAAE,MAAAZ,OAAKY,EAAU,OACrG,CAEApD,SAASiD,cAAc,eAAeC,UAAYK,CACtD,CAhEQM,CAAiB7B,EAAiBT,OAAQF,GACT,QAAjCD,EAAApB,SAASiD,cAAc,kBAAU,IAAA7B,GAAW,QAAXA,EAAjCA,EAAmC0C,iBAAS,IAAA1C,GAA5CA,EAA8C2C,IAAI,UAE1D,CA+DI3D,GACAJ,SAASiD,cAAc,eAAehD,iBAAiB,SAAS,SAAU+D,GACtEA,EAAMC,iBACuB,MAAzBD,EAAME,OAAOC,SAEbhD,EADAL,EAAcsD,SAASJ,EAAME,OAAOG,aACPtD,EAErC,IAGJf,SAASsE,iBAAiB,cAAcC,SAAQ,SAAA1C,GAC5CA,EAAO5B,iBAAiB,SAAS,WAC7BD,SAASsE,iBAAiB,cAAcC,SAAQ,SAAAC,GAAC,OAAIA,EAAEV,UAAUW,OAAO,SAAS,IAEjFC,KAAKZ,UAAUC,IAAI,UAEnBhD,EAAkB2D,KAAKL,YAAYM,OAAOC,cAE1CzD,EADAL,EAAc,EACeC,EACjC,GACJ,IAEAf,SAASsE,iBAAiB,cAAcC,SAAQ,SAAAC,GAAC,OAAIA,EAAEV,UAAUW,OAAO,SAAS,IACd,QAAnEtE,EAAAH,SAASiD,cAAc,wBAADT,OAAyBzB,EAAe,cAAK,IAAAZ,GAAW,QAAXA,EAAnEA,EAAqE2D,iBAAS,IAAA3D,GAA9EA,EAAgF4D,IAAI,UAEpF5C,EAAgBL,EAAaC,EACjC,IAIA,IAAM8D,EAAoB7E,SAASiD,cAAc,sBAC3C6B,EAAkB9E,SAASiD,cAAc,oBACzC8B,EAAS/E,SAASiD,cAAc,gBAEtC,GAAI4B,GAAqBC,GAAmBC,EAAQ,CAGtB,IAEjBC,EAAT,WACI,IAAMC,EAAiB1E,OAAO2E,QACxBC,EAAaL,EAAgBM,UAAYC,EACzCC,EAAgBR,EAAgBM,UAAYN,EAAgBS,aAC5DC,EAAYT,EAAOK,UACnBK,EAAgBC,EAAQH,aAI1BV,EAAkBc,MAAMC,WADxBX,EAAiBK,EACoB,aAEA,WAIrCL,EAAiBO,EAEjBE,EAAQC,MAAME,SAAW,QAClBZ,EAAiBE,EAEpBF,EAAiBQ,EAAgBK,EAAYR,GAE7CI,EAAQC,MAAME,SAAW,QACzBH,EAAQC,MAAMI,IAAMD,EAAY,OAGhCjB,EAAkBc,MAAMC,WAAa,WACrCF,EAAQC,MAAME,SAAW,SAI7BH,EAAQC,MAAME,SAAW,OAEjC,EArCMH,EAAUb,EAAkB5B,cAAc,YAC1C6C,EAAY,GACZT,EAAgB,GAsCtBL,IAEAzE,OAAON,iBAAiB,SAAU+E,EACtC,C","sources":["webpack://static-site-boilerplate/./src/javascript/article_code/articlesWork.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', function() {\r\n    const nopaginationRelatedIsActive = nopaginationRelated ?? false;\r\n    const currentSlug = window.location.pathname.split('/').pop().replace('.html', '');\r\n\r\n    const articlesPerPage = nopaginationRelatedIsActive ? 5 : 6; // Количество статей на странице\r\n    let currentPage = 1; // Текущая страница\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    let currentCategory = urlParams.get('filter') || 'все';\r\n\r\n    function displayArticles(page = 1, category = 'все') {\r\n        const filteredArticlesBySlug = globalThis.articles.filter(article => article.slug !== currentSlug);\r\n        const filteredArticles = (category === 'все'\r\n            ? filteredArticlesBySlug\r\n            : filteredArticlesBySlug.filter(article => article.categories.includes(category)));\r\n\r\n        const start = (page - 1) * articlesPerPage;\r\n        const end = start + articlesPerPage;\r\n        const paginatedArticles = filteredArticles.slice(start, end);\r\n\r\n        const articlesHtml = paginatedArticles.map(article => `\r\n            <a href=\"/articles/${article.link_page}\">\r\n                <div>\r\n                    <img src=\"${(constArticle ? \".\" : \"\" )+ article.preview_img}\" alt=\"${article.title}\">\r\n                    <h3>${article.title}</h3>\r\n                    <h4 class=\"Descr\">${article.short_desc}</h4>\r\n                </div>\r\n                <div class=\"Nav\">\r\n                    <h5 class=\"tag\">${article.tags.join(', ')}</h5>\r\n                    <span class=\"time\">\r\n                        ${ nopaginationRelatedIsActive ?\r\n            `<svg width=\"19\" height=\"19\" viewBox=\"0 0 19 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path d=\"M9.70196 18.3551C5.0449 18.3551 1.26831 14.5785 1.26831 9.92144C1.26831 5.26438 5.0449 1.48779 9.70196 1.48779C14.3607 1.48779 18.1356 5.26438 18.1356 9.92144C18.1356 14.5785 14.3607 18.3551 9.70196 18.3551\" stroke=\"white\" stroke-width=\"1.26505\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n<path d=\"M9.50049 7.07764V10.3718L12.0913 11.9523\" stroke=\"white\" stroke-width=\"1.26505\" stroke-linecap=\"round\" stroke-linejoin=\"round\"/>\r\n</svg>\r\n`:\r\n           ` <svg width=\"19\" height=\"19\" viewBox=\"0 0 19 19\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                <path\r\n                    d=\"M9.58808 17.8202C4.9062 17.8202 1.1095 14.0235 1.1095 9.34162C1.1095 4.65974 4.9062 0.863037 9.58808 0.863037C14.2716 0.863037 18.0667 4.65974 18.0667 9.34162C18.0667 14.0235 14.2716 17.8202 9.58808 17.8202\"\r\n                    stroke=\"#24262B\" stroke-opacity=\"0.5\" stroke-width=\"1.27179\" stroke-linecap=\"round\"\r\n                    stroke-linejoin=\"round\"></path>\r\n                <path d=\"M9.38562 6.48242V9.79415L11.9902 11.383\" stroke=\"#24262B\" stroke-opacity=\"0.5\"\r\n                      stroke-width=\"1.27179\" stroke-linecap=\"round\" stroke-linejoin=\"round\"></path>\r\n            </svg>`\r\n\r\n        }\r\n                        <span>${article.reading_time} мин</span>\r\n                    </span>\r\n                </div>\r\n            </a>\r\n        `).join('');\r\n\r\n        document.querySelector('.AriclesBlock').innerHTML = articlesHtml;\r\n\r\n        if(!nopaginationRelatedIsActive) {\r\n            updatePagination(filteredArticles.length, page);\r\n            document.querySelector('.stolen')?.classList?.add('hidden');\r\n        }\r\n    }\r\n\r\n    function updatePagination(totalArticles, currentPage) {\r\n        const totalPages = Math.ceil(totalArticles / articlesPerPage);\r\n        let paginationHtml = '';\r\n\r\n        if (totalPages <= 6) {\r\n            // Show all pages if 6 or fewer\r\n            for (let i = 1; i <= totalPages; i++) {\r\n                paginationHtml += `<a href=\"#\" class=\"${i === currentPage ? 'active' : ''}\">${i}</a>`;\r\n            }\r\n        } else {\r\n            // Always show first page\r\n            paginationHtml += `<a href=\"#\" class=\"${currentPage === 1 ? 'active' : ''}\">1</a>`;\r\n\r\n            // Determine start and end for middle pages\r\n            let startPage, endPage;\r\n            if (currentPage <= 3) {\r\n                startPage = 2;\r\n                endPage = 5;\r\n            } else if (currentPage >= totalPages - 2) {\r\n                startPage = totalPages - 4;\r\n                endPage = totalPages - 1;\r\n            } else {\r\n                startPage = currentPage - 1;\r\n                endPage = currentPage + 2;\r\n            }\r\n\r\n            // Ensure startPage and endPage stay within bounds\r\n            startPage = Math.max(2, startPage);\r\n            endPage = Math.min(totalPages - 1, endPage);\r\n\r\n            // Adjust if we don't have enough pages to show 5 numbers\r\n            if (endPage - startPage < 3) {\r\n                if (currentPage <= 3) {\r\n                    endPage = Math.min(5, totalPages - 1);\r\n                } else {\r\n                    startPage = Math.max(2, totalPages - 4);\r\n                }\r\n            }\r\n\r\n            // Add ellipsis after first page if needed\r\n            if (startPage > 2) {\r\n                paginationHtml += `<span>...</span>`;\r\n            }\r\n\r\n            // Add middle pages\r\n            for (let i = startPage; i <= endPage; i++) {\r\n                paginationHtml += `<a href=\"#\" class=\"${i === currentPage ? 'active' : ''}\">${i}</a>`;\r\n            }\r\n\r\n            // Add ellipsis before last page if needed\r\n            if (endPage < totalPages - 1) {\r\n                paginationHtml += `<span>...</span>`;\r\n            }\r\n\r\n            // Always show last page\r\n            paginationHtml += `<a href=\"#\" class=\"${currentPage === totalPages ? 'active' : ''}\">${totalPages}</a>`;\r\n        }\r\n\r\n        document.querySelector('.Pagination').innerHTML = paginationHtml;\r\n    }\r\n\r\n    if(!nopaginationRelatedIsActive) {\r\n        document.querySelector('.Pagination').addEventListener('click', function (event) {\r\n            event.preventDefault();\r\n            if (event.target.tagName === 'A') {\r\n                currentPage = parseInt(event.target.textContent);\r\n                displayArticles(currentPage, currentCategory);\r\n            }\r\n        });\r\n    }\r\n\r\n    document.querySelectorAll('.filter h4').forEach(filter => {\r\n        filter.addEventListener('click', function() {\r\n            document.querySelectorAll('.filter h4').forEach(f => f.classList.remove('active'));\r\n\r\n            this.classList.add('active');\r\n\r\n            currentCategory = this.textContent.trim().toLowerCase();\r\n            currentPage = 1;\r\n            displayArticles(currentPage, currentCategory);\r\n        });\r\n    });\r\n\r\n    document.querySelectorAll('.filter h4').forEach(f => f.classList.remove('active'));\r\n    document.querySelector(`.filter h4[data-tag=\"${currentCategory}\"]`)?.classList?.add('active');\r\n\r\n    displayArticles(currentPage, currentCategory);\r\n});\r\n\r\n\r\n\r\nconst navigationSlipper = document.querySelector('.navigationSlipper');\r\nconst razmetkaArticle = document.querySelector('.razmetkaArticle');\r\nconst author = document.querySelector('.author-info');\r\n\r\nif (navigationSlipper && razmetkaArticle && author) {\r\n    const slipper = navigationSlipper.querySelector('.slipper');\r\n    const topMargin = 80; // Отступ от верха окна\r\n    const triggerOffset = 40; // Смещение на 40 пикселей выше верхней части .razmetkaArticle\r\n\r\n    function scrollArticleOption() {\r\n        const scrollPosition = window.scrollY;\r\n        const articleTop = razmetkaArticle.offsetTop - triggerOffset; // Точка активации: верх статьи - 40px\r\n        const articleBottom = razmetkaArticle.offsetTop + razmetkaArticle.offsetHeight;\r\n        const authorTop = author.offsetTop; // Верхняя позиция .author-info\r\n        const slipperHeight = slipper.offsetHeight;\r\n\r\n        // Check if top of .author-info is below scroll position\r\n        if (scrollPosition < articleBottom) {\r\n            navigationSlipper.style.alignItems = 'flex-start'; // Set align-items to flex-start\r\n        } else {\r\n            navigationSlipper.style.alignItems = 'flex-end'; // Set align-items to flex-end when .author-info top is hidden\r\n        }\r\n\r\n        // Existing positioning logic\r\n        if (scrollPosition > authorTop) {\r\n            // Если верх .author-info достиг или пересёк верх окна\r\n            slipper.style.position = 'unset';\r\n        } else if (scrollPosition > articleTop) {\r\n            // Если прокрутили дальше точки активации (.razmetkaArticle верх - 40px)\r\n            if (scrollPosition + slipperHeight + topMargin < articleBottom) {\r\n                // Если не достигли конца статьи\r\n                slipper.style.position = 'fixed';\r\n                slipper.style.top = topMargin + 'px';\r\n            } else {\r\n                // Если достигли конца статьи\r\n                navigationSlipper.style.alignItems = 'flex-end';\r\n                slipper.style.position = 'unset';\r\n            }\r\n        } else {\r\n            // Если выше точки активации (.razmetkaArticle - 40px)\r\n            slipper.style.position = 'unset';\r\n        }\r\n    }\r\n\r\n    // Initial call\r\n    scrollArticleOption();\r\n    // Event listener for scroll\r\n    window.addEventListener('scroll', scrollArticleOption);\r\n}"],"names":["document","addEventListener","_nopaginationRelated","_document$querySelect2","nopaginationRelatedIsActive","nopaginationRelated","currentSlug","window","location","pathname","split","pop","replace","articlesPerPage","currentPage","currentCategory","URLSearchParams","search","get","displayArticles","_document$querySelect","page","arguments","length","undefined","category","filteredArticlesBySlug","globalThis","articles","filter","article","slug","filteredArticles","categories","includes","start","end","articlesHtml","slice","map","concat","link_page","constArticle","preview_img","title","short_desc","tags","join","reading_time","querySelector","innerHTML","totalArticles","totalPages","Math","ceil","paginationHtml","i","startPage","endPage","max","min","updatePagination","classList","add","event","preventDefault","target","tagName","parseInt","textContent","querySelectorAll","forEach","f","remove","this","trim","toLowerCase","navigationSlipper","razmetkaArticle","author","scrollArticleOption","scrollPosition","scrollY","articleTop","offsetTop","triggerOffset","articleBottom","offsetHeight","authorTop","slipperHeight","slipper","style","alignItems","position","topMargin","top"],"sourceRoot":""}
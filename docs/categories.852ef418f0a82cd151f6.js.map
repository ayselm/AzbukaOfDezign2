{"version":3,"file":"categories.852ef418f0a82cd151f6.js","mappings":"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","sources":["webpack://static-site-boilerplate/./src/javascript/ui/categories.js"],"sourcesContent":["class CategoriesSlider {\r\n  constructor(container, options = {}) {\r\n    this.container = typeof container === 'string' ? document.querySelector(container) : container;\r\n\r\n    if (!this.container) {\r\n      console.error('Container not found');\r\n      return;\r\n    }\r\n\r\n    this.block = this.container.querySelector('.CategoriesBlock');\r\n    this.leftArrow = this.container.querySelector('.leftArrow');\r\n    this.rightArrow = this.container.querySelector('.rightArrow');\r\n    this.categories = this.block ? this.block.querySelectorAll('.cat') : [];\r\n\r\n    if (!this.block || !this.leftArrow || !this.rightArrow || this.categories.length === 0) {\r\n      console.error('Required elements missing in slider container');\r\n      console.error(this.block, this.leftArrow, this.rightArrow, this.categories);\r\n      return;\r\n    }\r\n\r\n    // Options\r\n    this.maxClicksRight = options.maxClicksRight || (this.container.dataset.bounce ? 5 : undefined);\r\n    this.bounceAfterLeftClicks = options.bounceAfterLeftClicks || (this.container.dataset.bounce ? 2 : 0);\r\n\r\n    // Ensure enough items for maxClicksRight\r\n    if (this.maxClicksRight && this.categories.length < this.maxClicksRight + 1) {\r\n      console.warn(`Slider needs at least ${this.maxClicksRight + 1} items, but has ${this.categories.length}`);\r\n    }\r\n\r\n    this.currentIndex = 0;\r\n    this.leftClicksAfterEnd = 0;\r\n    this.wasAtEnd = false;\r\n\r\n    this.updateDimensions();\r\n\r\n    this.slide = this.slide.bind(this);\r\n    this.handleResize = this.handleResize.bind(this);\r\n\r\n    this.init();\r\n  }\r\n\r\n  updateDimensions() {\r\n    this.itemWidth = this.categories[0].offsetWidth;\r\n    this.containerWidth = this.block.offsetWidth;\r\n    this.totalWidth = this.categories.length * this.itemWidth;\r\n    this.visibleCategories = Math.round(this.containerWidth / this.itemWidth) || 1; // At least 1\r\n    this.maxScroll = Math.max(0, this.totalWidth - this.containerWidth);\r\n    this.maxIndex = Math.max(0, this.categories.length - this.visibleCategories);\r\n\r\n    // For data-bounce, adjust maxIndex to ensure maxClicksRight reaches end\r\n    if (this.maxClicksRight) {\r\n      this.clicksPerStep = Math.ceil((this.maxIndex + 1) / this.maxClicksRight);\r\n      this.maxIndex = Math.min(this.maxIndex, this.maxClicksRight * this.clicksPerStep);\r\n    }\r\n  }\r\n\r\n  init() {\r\n    this.leftArrow.addEventListener('click', () => this.slide('left'));\r\n    this.rightArrow.addEventListener('click', () => this.slide('right'));\r\n\r\n    this.debouncedResize = this.debounce(this.handleResize, 200);\r\n    window.addEventListener('resize', this.debouncedResize);\r\n\r\n    this.updateArrows();\r\n    this.updateScrollPosition();\r\n  }\r\n\r\n  slide(direction) {\r\n    const prevIndex = this.currentIndex;\r\n    let step = this.maxClicksRight ? this.clicksPerStep : this.visibleCategories;\r\n\r\n    if (direction === 'left') {\r\n      this.currentIndex = Math.max(0, this.currentIndex - step);\r\n      if (this.wasAtEnd) {\r\n        this.leftClicksAfterEnd++;\r\n      }\r\n    } else {\r\n      this.currentIndex = Math.min(this.maxIndex, this.currentIndex + step);\r\n      if (this.currentIndex >= this.maxIndex) {\r\n        this.wasAtEnd = true;\r\n        this.leftClicksAfterEnd = 0;\r\n      }\r\n    }\r\n\r\n    // Trigger bounce animation if conditions met\r\n    if (this.bounceAfterLeftClicks > 0 && this.wasAtEnd && this.leftClicksAfterEnd === this.bounceAfterLeftClicks) {\r\n      this.block.classList.add('bounce');\r\n      setTimeout(() => this.block.classList.remove('bounce'), 600);\r\n    }\r\n\r\n    this.updateScrollPosition();\r\n    this.updateArrows();\r\n  }\r\n\r\n  updateScrollPosition() {\r\n    this.updateDimensions(); // Recalculate on scroll for accuracy\r\n    const scrollPosition = this.currentIndex * this.itemWidth;\r\n    this.block.scrollTo({\r\n      left: scrollPosition,\r\n      behavior: 'smooth'\r\n    });\r\n  }\r\n\r\n  updateArrows() {\r\n    this.leftArrow.style.opacity = this.currentIndex === 0 ? '0.5' : '1';\r\n    this.rightArrow.style.opacity = this.currentIndex >= this.maxIndex ? '0.5' : '1';\r\n  }\r\n\r\n  handleResize() {\r\n    this.updateScrollPosition();\r\n    this.updateArrows();\r\n  }\r\n\r\n  debounce(func, wait) {\r\n    let timeout;\r\n    return function (...args) {\r\n      clearTimeout(timeout);\r\n      timeout = setTimeout(() => func.apply(this, args), wait);\r\n    };\r\n  }\r\n\r\n  destroy() {\r\n    this.leftArrow.removeEventListener('click', () => this.slide('left'));\r\n    this.rightArrow.removeEventListener('click', () => this.slide('right'));\r\n    window.removeEventListener('resize', this.debouncedResize);\r\n  }\r\n}\r\n\r\n// Initialize sliders\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n  const sliderContainers = document.querySelectorAll('.slider-container');\r\n  sliderContainers.forEach(container => {\r\n    const options = {\r\n      maxClicksRight: container.dataset.bounce ? 5 : undefined,\r\n      bounceAfterLeftClicks: container.dataset.bounce ? 2 : undefined\r\n    };\r\n    new CategoriesSlider(container, options);\r\n  });\r\n});"],"names":["CategoriesSlider","container","options","arguments","length","undefined","_classCallCheck","this","document","querySelector","block","leftArrow","rightArrow","categories","querySelectorAll","console","error","maxClicksRight","dataset","bounce","bounceAfterLeftClicks","warn","concat","currentIndex","leftClicksAfterEnd","wasAtEnd","updateDimensions","slide","bind","handleResize","init","key","value","itemWidth","offsetWidth","containerWidth","totalWidth","visibleCategories","Math","round","maxScroll","max","maxIndex","clicksPerStep","ceil","min","_this","addEventListener","debouncedResize","debounce","window","updateArrows","updateScrollPosition","direction","_this2","step","classList","add","setTimeout","remove","scrollPosition","scrollTo","left","behavior","style","opacity","func","wait","timeout","_this3","_len","args","Array","_key","clearTimeout","apply","_this4","removeEventListener","forEach"],"sourceRoot":""}